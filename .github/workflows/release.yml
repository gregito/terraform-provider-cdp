name: Periodic Release Job

on:
  schedule:
    - cron: '*/5 * * * *'

jobs:
  check-release:
    runs-on: ubuntu-latest
    steps:
      - name: Fetch latest release
        run: |
          TAG=$(curl -s https://api.github.com/repos/:owner/:repo/releases/latest | jq -r '.tag_name')
          echo "Latest release tag: $TAG"
      - name: Fetch latest commit
        run: |
          git fetch --tags
          LATEST_COMMIT_TAG=$(git describe --tags --abbrev=0)
          echo "Latest commit tag: $LATEST_COMMIT_TAG"
      - name: Compare tags
        run: |
          if [ "$TAG" != "$LATEST_COMMIT_TAG" ]; then
            echo "Tags are different, performing action..."
            # Perform your action here, like executing 'make release'
          else
            echo "Tags are identical, no action needed."
          fi